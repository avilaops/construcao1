(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3087:(e,s,a)=>{Promise.resolve().then(a.bind(a,9809))},9809:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(5155),l=a(2115),r=a(2651),d=a(418),i=a(4807),n=a(6878),c=a(8527);function m(){let[e,s]=(0,l.useState)(null),[a,m]=(0,l.useState)(!0);(0,l.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await r.A.get("".concat("https://localhost:7001/api","/obras/dashboard"));s(e.data)}catch(e){console.error("Erro ao buscar dashboard:",e)}finally{m(!1)}};return a?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"bg-orange-600 p-2 rounded-lg",children:(0,t.jsx)(d.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Marcos Constru\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Sistema de Gest\xe3o de Obras"})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Bem-vindo,"}),(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:"Marcos"})]})]})})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Obras Ativas"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:(null==e?void 0:e.obrasAtivas)||0})]}),(0,t.jsx)("div",{className:"bg-blue-100 p-3 rounded-full",children:(0,t.jsx)(d.A,{className:"h-6 w-6 text-blue-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Faturamento"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format((null==e?void 0:e.totalOrcado)||0)})]}),(0,t.jsx)("div",{className:"bg-green-100 p-3 rounded-full",children:(0,t.jsx)(i.A,{className:"h-6 w-6 text-green-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Gastos"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format((null==e?void 0:e.totalGasto)||0)})]}),(0,t.jsx)("div",{className:"bg-red-100 p-3 rounded-full",children:(0,t.jsx)(n.A,{className:"h-6 w-6 text-red-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Margem M\xe9dia"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[null==e?void 0:e.margemMedia.toFixed(1),"%"]})]}),(0,t.jsx)("div",{className:"bg-purple-100 p-3 rounded-full",children:(0,t.jsx)(c.A,{className:"h-6 w-6 text-purple-600"})})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Obras em Andamento"})}),(0,t.jsx)("div",{className:"p-6",children:(null==e?void 0:e.obras)&&e.obras.length>0?(0,t.jsx)("div",{className:"space-y-6",children:e.obras.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.nome}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Cliente: ",e.cliente]})]}),(0,t.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full",children:e.status})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Progresso"}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[e.percentualConcluido.toFixed(0),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-orange-600 h-3 rounded-full transition-all",style:{width:"".concat(e.percentualConcluido,"%")}})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Or\xe7ado"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(e.valorOrcado)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Gasto"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(e.gasto)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Prazo"}),(0,t.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[e.diasRestantes," dias"]})]})]})]},e.id))}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(d.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Nenhuma obra ativa no momento"})]})})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[573,441,517,358],()=>s(3087)),_N_E=e.O()}]);